### DIRECTIVES

directive @auth on OBJECT | FIELD_DEFINITION

### SCALAR

scalar DateTime
scalar Upload

type AppInfo {
  app: String
  postgre: String
}

type Identity {
  identityProvider: String
  userId: String
  userName: String
}

type Association {
  id: ID!
  name: String!
  email: String!
  code: String!
}

type User {
  id: ID!
  email: String!
  firstName: String
  lastName: String
  roles: [String]
  federatedIdentities: [Identity]
}

### QUERIES

type Query {
  about: AppInfo
  me: User @auth
  federation: Association @auth
  association(id: String!): Association @auth
  userAssociations: [Association] @auth
}

### MUTATIONS

### MUTATIONS DECLARATION
input AssociationAddInput {
 code: String!
 name: String!
 email: String!
}

input UserProfileInput {
  firstName: String!
  lastName: String!
}

input UserLoginInput {
  email: String!
  password: String!
}

type Mutation {
  updateProfile(input: UserProfileInput): User @auth
  associationAdd(input: AssociationAddInput): Association @auth
}
